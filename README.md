# Описание проекта audio-service-api

Этот проект представляет собой API для управления пользователями и аудиозаписями. С помощью этого API вы можете создавать новых пользователей, загружать аудиофайлы, скачивать и удалять их.
Загружаемые файлы будут обрабатываться и конвертироваться из .wav в формат .mp3. После этого аудиозаписи будет присвоен uuid и добавлена в базу данных.

## Установка

Для запуска этого приложения вам потребуется Docker. Клонируйте репозиторий и запустите docker-compose up в корневой директории проекта.

API будет доступно по адресу http://localhost:8000

## Использование

API предоставляет следующие маршруты:

### Создание пользователя POST

/create_user

Создает нового пользователя в базе данных. Принимает имя пользователя в теле запроса. Возвращает идентификатор пользователя и уникальный токен.

### Пример запроса:

{
    "name": "Aleksandr"
}


### Загрузка аудиофайла POST 

/upload_audio

Загружает аудиофайл пользователя. Принимает идентификатор пользователя, токен, и файл аудиозаписи в теле запроса. Аудиофайл добавляется запись в базу данных. Возвращает ссылку на скачивание аудиофайла.

### Пример запроса:

FormData:
- user_id: 1
- token: "token"
- file: <audio_file>

### Скачивание аудиофайла GET 

/record

Скачивает аудиофайл по указанному идентификатору и пользователю. Принимает идентификатор аудиозаписи и идентификатор пользователя в параметрах запроса. Возвращает запрашиваемый аудиофайл.

### Пример запроса: 

/record?uuid=audio_uuid&user=user_id

### Удаление пользователя DELETE 

/delete_user/{user_id}

Удаляет пользователя по указанному идентификатору. Принимает идентификатор пользователя в пути запроса. Удаляет пользователя и все связанные аудиозаписи из базы данных.

### Пример запроса:

/delete_user/1

### Удаление аудиофайла DELETE 

Удаляет аудиофайл по указанному идентификатору. Принимает идентификатор аудиозаписи в пути запроса. Удаляет аудиозапись из базы данных и соответствующий файл с сервера.

/delete_audio/{audio_uuid}

### Пример запроса:

/delete_audio/audio_uuid
